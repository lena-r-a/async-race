(()=>{"use strict";var e={921:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(879),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".control-btn{background-color:transparent;color:#ff0;border:1px solid #ff0;border-radius:5px;padding:7px;box-sizing:border-box;margin-top:5px}.control-btn:disabled{background-color:gray}",""]);const o=r},717:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(879),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".header{height:50px;width:100%}.header-nav{width:300px;display:flex;justify-content:space-between}.header__nav-item{text-decoration:none;color:#000;text-transform:uppercase;border-radius:5px;background-color:#adff2f;padding:5px}",""]);const o=r},242:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(879),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".form-line{width:300px;display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.form-line .create__car-name{width:50%}.form-line .update__car-name{width:50%}.form-line .race-btn{width:24%}.form-line .reset-btn{width:24%}.form-line .generate-btn{width:49%}.btn{box-sizing:border-box;background:#ffd403 linear-gradient(#ffd403, #f89d17);box-shadow:inset 0 -2px 1px rgba(0,0,0,0),inset 0 1px 2px rgba(0,0,0,0),inset 0 0 0 60px rgba(255,255,0,0);transition:box-shadow .2s,border-color .2s}.btn:disabled{background:#d3c8c8}.btn:hover{cursor:pointer;box-shadow:inset 0 -1px 1px rgba(0,0,0,0),inset 0 1px 2px rgba(0,0,0,0),inset 0 0 0 60px rgba(255,255,0,.5)}.btn:active{border-color:#b19f00;box-shadow:inset 0 -1px 1px rgba(0,0,0,.1),inset 0 1px 2px rgba(0,0,0,.3),inset 0 0 0 60px rgba(255,255,0,.45)}#cars__section{color:#fff}",""]);const o=r},507:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(879),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".massage-box{color:#fff;padding:10px;font-size:2rem;position:absolute;top:50%;left:50%;transform:translate(-50%, 0);color:#fff;background:#333;text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 15px #fff,0 0 20px #49ff18,0 0 30px #49ff18,0 0 40px #49ff18,0 0 55px #49ff18,0 0 75px #49ff18}",""]);const o=r},339:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(879),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,"",""]);const o=r},294:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(879),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".winners-title{color:#fff}*{color:#fff}input{color:blue}.winners-list{padding:0}.winners-item{list-style:none;margin:0;padding:0}.table-header,.winners-item{width:800px;display:grid;grid-template-columns:repeat(5, 1fr);align-items:end}.time-sort:hover,.wins-sort:hover{cursor:pointer}.table-header{font-size:1.5rem}.winners-item{font-size:1.2rem}",""]);const o=r},879:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);a&&r[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},548:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(379),r=n.n(a),o=n(921);r()(o.Z,{insert:"head",singleton:!1});const i=o.Z.locals||{}},734:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(379),r=n.n(a),o=n(717);r()(o.Z,{insert:"head",singleton:!1});const i=o.Z.locals||{}},199:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(379),r=n.n(a),o=n(242);r()(o.Z,{insert:"head",singleton:!1});const i=o.Z.locals||{}},810:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(379),r=n.n(a),o=n(507);r()(o.Z,{insert:"head",singleton:!1});const i=o.Z.locals||{}},303:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(379),r=n.n(a),o=n(339);r()(o.Z,{insert:"head",singleton:!1});const i=o.Z.locals||{}},35:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(379),r=n.n(a),o=n(294);r()(o.Z,{insert:"head",singleton:!1});const i=o.Z.locals||{}},379:(e,t,n)=>{var a,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function i(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},a=[],r=0;r<e.length;r++){var s=e[r],d=t.base?s[0]+t.base:s[0],c=n[d]||0,l="".concat(d," ").concat(c);n[d]=c+1;var u=i(l),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(o[u].references++,o[u].updater(p)):o.push({identifier:l,updater:f(p,t),references:1}),a.push(l)}return a}function d(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=l(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function p(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var m=null,v=0;function f(e,t){var n,a,r;if(t.singleton){var o=v++;n=m||(m=d(t)),a=u.bind(null,n,o,!1),r=u.bind(null,n,o,!0)}else n=d(t),a=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=i(n[a]);o[r].references--}for(var d=s(e,t),c=0;c<n.length;c++){var l=i(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=d}}}},724:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{d(a.next(e))}catch(e){o(e)}}function s(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteWinner=t.updateWinnerAPI=t.createWinnerAPI=t.getWinner=t.switchDrive=t.engineStartStop=t.getWinners=t.updateCarAPI=t.deleteCar=t.createCarAPI=t.getCar=t.getCars=t.EngineStatus=void 0;const r=n(685),o="http://127.0.0.1:3000";var i;(i=t.EngineStatus||(t.EngineStatus={})).start="started",i.stop="stopped",i.drive="drive",t.getCars=(e=1,t=7)=>a(void 0,void 0,void 0,(function*(){const n=yield fetch(`${o}/garage?_page=${e}&_limit=${t}`),a=yield n.json();return r.stateParameters.carlist=yield a,r.stateParameters.totalNumberOfCars=Number(n.headers.get("X-Total-Count")),r.stateParameters.totalpages=Math.ceil(r.stateParameters.totalNumberOfCars/t),r.stateParameters.pageNumber=e,a})),t.getCar=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${o}/garage/${e}`),n=yield t.json();return r.stateUpdateCar.color=n.color,r.stateUpdateCar.id=n.id,r.stateUpdateCar.name=n.name,n})),t.createCarAPI=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${o}/garage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()})),t.deleteCar=e=>a(void 0,void 0,void 0,(function*(){yield fetch(`${o}/garage/${e}`,{method:"DELETE"})})),t.updateCarAPI=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${o}/garage/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()})),t.getWinners=(e=1,t=10,n,i)=>a(void 0,void 0,void 0,(function*(){const a=n?`&_sort=${n}`:"",s=i?`&_order=${i}`:"",d=yield fetch(`${o}/winners?_page=${e}&_limit=${t}${a}${s}`),c=yield d.json();return r.stateParameters.winnersList=yield c,r.stateParameters.winnersNumber=Number(d.headers.get("X-Total-Count"))?Number(d.headers.get("X-Total-Count")):c.length,r.stateParameters.winnersTotalPages=Math.ceil(r.stateParameters.winnersNumber/t),r.stateParameters.winnersPageNumber=e,c})),t.engineStartStop=(e,t)=>a(void 0,void 0,void 0,(function*(){const n=yield fetch(`${o}/engine?id=${e}&status=${t}`,{method:"PATCH"});return yield n.json()})),t.switchDrive=(e,t)=>a(void 0,void 0,void 0,(function*(){switch((yield fetch(`${o}/engine?id=${e}&status=${t}`,{method:"PATCH"})).status){case 500:return"stop";case 200:return"ok";default:return"error"}})),t.getWinner=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${o}/winners/${e}`),n=yield t.json();return 200===t.status?n:"error"})),t.createWinnerAPI=e=>a(void 0,void 0,void 0,(function*(){const t=yield fetch(`${o}/winners`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()})),t.updateWinnerAPI=(e,t)=>a(void 0,void 0,void 0,(function*(){const n=yield fetch(`${o}/winners/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield n.json()})),t.deleteWinner=e=>a(void 0,void 0,void 0,(function*(){yield fetch(`${o}/winners/${e}`,{method:"DELETE"})}))},914:(e,t)=>{var n,a;Object.defineProperty(t,"__esModule",{value:!0}),t.SortOrder=t.SortBy=void 0,(a=t.SortBy||(t.SortBy={})).wins="wins",a.time="time",(n=t.SortOrder||(t.SortOrder={})).ASC="ASC",n.DESC="DESC"},685:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stateUpdateCar=t.stateUpdateParameters=t.stateCreateParameters=t.stateParameters=void 0,t.stateParameters={carlist:[],totalNumberOfCars:0,pageNumber:1,totalpages:1,winnersNumber:0,winnersList:[],winnersTotalPages:1,winnersPageNumber:1,sortBy:"",sortOrder:""},t.stateCreateParameters={name:"",color:"black"},t.stateUpdateParameters={name:"",color:"#000000"},t.stateUpdateCar={id:1,name:"",color:""}},645:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=(e="div",t=[])=>{const n=document.createElement(e);return n.classList.add(...t),n}},629:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{d(a.next(e))}catch(e){o(e)}}function s(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateControlButton=t.generateCarImage=t.Button=void 0,n(548);const r=n(645),o=n(724);let i;t.Button=(e,t=[],n)=>{const a=document.createElement("button");return a.classList.add(...t),a.textContent=e,n&&a.setAttribute("data-id",n),a},t.generateCarImage=e=>`\n<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   version="1.1"\n   id="svg5332"\n  viewBox="0 0 280.00007 160"\n   height="50px"\n   width="70px">\n  <title\n     id="title7394">Car</title>\n  <defs\n     id="defs5334" />\n  <g\n     transform="translate(-362.5464,-406.21469)"\n     id="layer1">\n    <path\n       id="path4729-0-0"\n       d="m 469.54633,480.16096 c -28.4885,-0.0451 -72.9963,4.7606 -72.9963,4.7606 0,0 6.1798,1.26482 4.9637,4.32757 -1.2162,3.06274 -12.9467,17.32041 -15.7822,19.34577 -1.6924,1.20893 -5.2585,1.62257 -7.8752,1.76616 0,0 -1.7042,1.94896 -2.5337,3.4482 -4.4252,7.99941 -3.7176,17.63218 -3.6889,16.15996 l -0.029,1.5351 c -6.6598,3.69009 -8.1038,5.47112 -8.6547,6.61849 -0.8478,1.76593 -0.2904,18.57192 1.0182,20.87321 0.9857,1.73392 7.9214,6.33244 11.2916,8.50164 -0.056,-0.70873 -0.092,-1.42082 -0.092,-2.13786 0,-7.17978 2.8263,-14.00249 7.9031,-19.07936 5.0769,-5.07684 11.8996,-7.90314 19.0794,-7.90314 7.1798,0 14.0025,2.8263 19.0793,7.90314 5.0769,5.07687 7.9029,11.89957 7.9029,19.07936 0,2.24289 -0.2752,4.45153 -0.8092,6.58241 l 0.5548,0.0361 120.8635,0 c -0.7721,-2.53009 -1.1733,-5.18506 -1.1733,-7.8912 0,-7.17954 2.826,-14.00226 7.9029,-19.07912 5.0768,-5.07686 11.8995,-7.90314 19.0793,-7.90314 7.18,0 14.0025,2.82628 19.0794,7.90314 5.0768,5.07686 7.9031,11.89958 7.9031,19.07912 0,2.55557 -0.364,5.06356 -1.0541,7.46584 5.0469,-0.7148 14.2719,-2.31369 15.0106,-4.57621 1.0187,-3.12 3.4004,-16.99581 1.0619,-24.52634 -2.3384,-7.53075 -12.7275,-20.74585 -51.6738,-29.01891 -44.8008,-25.45504 -63.7988,-31.06907 -89.3116,-32.92651 -3.1889,-0.23195 -2.9498,-0.33767 -7.0195,-0.34399 z m 1.7242,3.97119 c 6.6996,-0.0428 31.1274,0.62823 56.5514,14.15351 8.7451,4.65217 32.7782,16.49877 29.6553,19.0913 -12.726,10.56532 -21.7497,-3.30913 -85.7694,-5.09107 l -1.9091,-28.12782 c 0,0 0.5147,-0.0225 1.4718,-0.0248 z m -13.6445,0.21414 0,0 c 2.3774,-0.0293 3.8363,0 3.8363,0 l -0.891,27.61884 c 0,0 -53.8404,-1.39083 -55.3013,-2.99106 -1.4609,-1.60002 8.5016,-15.87798 20.6823,-20.49136 9.1355,-3.45971 24.5414,-4.05572 31.6737,-4.13822 z m 125.9029,37.15648 c 1.2019,-0.0225 2.4794,0.15328 2.8914,0.20063 2.5493,0.28852 11.4961,3.71849 17.0531,7.57695 5.5568,3.85848 9.3686,8.58706 9.3686,8.58706 -7.1911,2.09999 -31.9798,-14.08521 -31.7553,-15.46409 0.1127,-0.68934 1.24,-0.88657 2.4422,-0.90077 z m -24.6517,6.56462 9.4184,0 c 0,0 -0.6785,1.44064 -2.464,1.79973 -1.7855,0.35931 -2.8342,0.45646 -4.4903,0 -1.6564,-0.45625 -2.4641,-1.79973 -2.4641,-1.79973 z m 16.673,13.10937 c -6.0619,0 -11.9133,2.42348 -16.1998,6.71002 -4.2866,4.28631 -6.7096,10.13747 -6.7096,16.19963 0,6.06216 2.423,11.91332 6.7096,16.19986 4.2865,4.28632 10.1379,6.70978 16.1998,6.70978 6.0622,0 11.9134,-2.42346 16.1999,-6.70978 4.2865,-4.28654 6.7098,-10.1377 6.7098,-16.19986 0,-6.06216 -2.4233,-11.91332 -6.7098,-16.19963 -4.2865,-4.28654 -10.1377,-6.71002 -16.1999,-6.71002 z m -173.4002,1.27272 c -6.0621,0 -11.9133,2.42324 -16.1998,6.70999 -4.2866,4.28656 -6.7098,10.13748 -6.7098,16.19965 0,6.06215 2.4232,11.91332 6.7098,16.19986 4.2865,4.28654 10.1377,6.70978 16.1998,6.70978 6.0622,0 11.9133,-2.42324 16.1999,-6.70978 4.2865,-4.28654 6.7098,-10.13771 6.7098,-16.19986 0,-6.06217 -2.4233,-11.91309 -6.7098,-16.19965 -4.2866,-4.28675 -10.1377,-6.70999 -16.1999,-6.70999 z m 173.4002,8.9094 c 3.2679,0 6.6882,1.41811 8.9989,3.72864 2.3106,2.31074 3.7287,5.73124 3.7287,8.99889 0,3.26766 -1.4181,6.69017 -3.7287,9.0007 -2.3107,2.31076 -5.731,3.72683 -8.9989,3.72683 -3.2676,0 -6.6881,-1.41607 -8.9986,-3.72683 -2.3108,-2.31053 -3.7289,-5.73305 -3.7289,-9.0007 0,-3.26765 1.4181,-6.68815 3.7289,-8.99889 2.3105,-2.31053 5.731,-3.72864 8.9986,-3.72864 z m -173.4002,1.27271 c 3.2677,0 6.6882,1.4181 8.9987,3.72886 2.3107,2.31053 3.7288,5.73102 3.7288,8.99867 0,3.26788 -1.4181,6.69017 -3.7288,9.00091 -2.3105,2.31054 -5.731,3.72662 -8.9987,3.72662 -3.2676,0 -6.6881,-1.41608 -8.9989,-3.72662 -2.3105,-2.31074 -3.7286,-5.73303 -3.7286,-9.00091 0,-3.26765 1.4181,-6.68814 3.7286,-8.99868 2.3108,-2.31075 5.7313,-3.72885 8.9989,-3.72885 z"\n       style="fill:${e};fill-opacity:0.99450983;stroke:none" />\n  </g>\n</svg>\n`,t.GenerateControlButton=()=>{const e=(0,r.BaseComponent)("div",["car-controls"]),n=(0,t.Button)("A",["control-btn"]),s=(0,t.Button)("B",["control-btn"]);return s.setAttribute("disabled","true"),e.append(n),e.append(s),n.addEventListener("click",(e=>{var t,r,d,c;const l=null===(c=null===(d=null===(r=null===(t=e.target.parentElement)||void 0===t?void 0:t.parentElement)||void 0===r?void 0:r.parentElement)||void 0===d?void 0:d.parentElement)||void 0===c?void 0:c.id,u=document.querySelector(`#car-${l}`),p=document.querySelector(".car-with-road").clientWidth-2*u.getBoundingClientRect().x;(0,o.engineStartStop)(+l,o.EngineStatus.start).then((e=>a(void 0,void 0,void 0,(function*(){let t;e.distance&&e.velocity&&(t=e.distance/e.velocity);const r=performance.now();requestAnimationFrame((function e(n){let a=(n-r)/t;a>1&&(a=1);const o=a;u.style.transform=`translateX(${o*p}px)`,a<1&&(i=requestAnimationFrame(e))})),s.removeAttribute("disabled"),n.setAttribute("disabled","true"),yield(0,o.switchDrive)(+l,o.EngineStatus.drive).then((e=>a(void 0,void 0,void 0,(function*(){"stop"===e&&cancelAnimationFrame(i),yield(0,o.switchDrive)(+l,o.EngineStatus.stop)})))).catch((()=>{cancelAnimationFrame(i),(0,o.engineStartStop)(+l,o.EngineStatus.stop)}))}))))})),s.addEventListener("click",(e=>a(void 0,void 0,void 0,(function*(){var t,a,r,d;const c=null===(d=null===(r=null===(a=null===(t=e.target.parentElement)||void 0===t?void 0:t.parentElement)||void 0===a?void 0:a.parentElement)||void 0===r?void 0:r.parentElement)||void 0===d?void 0:d.id,l=document.querySelector(`#car-${c}`);cancelAnimationFrame(i),l.style.transform="translateX(0px)",n.removeAttribute("disabled"),s.setAttribute("disabled","true"),yield(0,o.switchDrive)(+c,o.EngineStatus.stop)})))),e}},376:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{d(a.next(e))}catch(e){o(e)}}function s(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.generateCars=t.generateCar=void 0;const r=n(629),o=n(645),i=n(685),s=n(724),d=n(535);t.generateCar=e=>{const t=(0,o.BaseComponent)("div",["car-item__wrapper"]);t.id=String(e.id);const n=(0,o.BaseComponent)("div",["car-item__manage"]),c=(0,r.Button)("Select",["car-item__select","btn"],String(e.id)),l=(0,r.Button)("Delete",["car-item__delete","btn"],String(e.id)),u=(0,o.BaseComponent)("span",["car-item__name"]);u.textContent=`${e.name}`,t.append(n),n.append(c),n.append(l),n.append(u);const p=(0,o.BaseComponent)("div",["car-with-road"]),m=(0,o.BaseComponent)("div",["car-wrapper"]),v=(0,r.GenerateControlButton)();m.append(v);const f=(0,o.BaseComponent)("div",["car-image"]);f.id=`car-${e.id}`,f.innerHTML=(0,r.generateCarImage)(e.color),m.append(v),m.append(f),p.append(m);const g=(0,o.BaseComponent)("div",["flag"]);return g.textContent="ðŸ´",p.append(g),t.append(p),l.addEventListener("click",(e=>{const t=e.target,{id:n}=t.dataset;n&&(0,s.deleteCar)(+n).then((()=>a(void 0,void 0,void 0,(function*(){(0,d.Garage)(),yield(0,s.deleteWinner)(+n)}))))})),c.addEventListener("click",(e=>{const t=e.target,{id:n}=t.dataset;n&&(0,s.getCar)(+n).then((e=>{const t=document.querySelector(".update__car-name"),n=document.querySelector(".update__car-color"),a=document.querySelector(".update__car-submit");t.removeAttribute("disabled"),n.removeAttribute("disabled"),a.removeAttribute("disabled"),t.value=e.name,n.value=e.color,i.stateUpdateCar.name=e.name,i.stateUpdateParameters.name=e.name,i.stateUpdateParameters.color=e.color}))})),t},t.generateCars=()=>a(void 0,void 0,void 0,(function*(){const e=(0,o.BaseComponent)("div",["cars-containeer"]);return i.stateParameters.carlist=yield(0,s.getCars)(i.stateParameters.pageNumber,7),i.stateParameters.carlist.forEach((n=>{var a,r,o,s;e.append((0,t.generateCar)(n)),1==i.stateParameters.pageNumber?null===(a=document.querySelector(".prev-btn"))||void 0===a||a.setAttribute("disabled","true"):null===(r=document.querySelector(".prev-btn"))||void 0===r||r.removeAttribute("disabled"),i.stateParameters.pageNumber==i.stateParameters.totalpages?null===(o=document.querySelector(".next-btn"))||void 0===o||o.setAttribute("disabled","true"):null===(s=document.querySelector(".next-btn"))||void 0===s||s.removeAttribute("disabled")})),e}))},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderHeader=void 0,n(734);const a=[{id:"garage",text:"To Garage",className:"header__nav-item"},{id:"winners",text:"To Winners",className:"header__nav-item"}];t.renderHeader=()=>{const e=document.createElement("header"),t=`\n    <nav class = "header-nav">\n    <a href = "#${a[0].id}" class = "${a[0].className}">${a[0].text}</a>\n    <a href = "#${a[1].id}" class = "${a[1].className}">${a[1].text}</a>\n    </nav>\n  `;return e.classList.add("header"),e.innerHTML=t,e}},736:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{d(a.next(e))}catch(e){o(e)}}function s(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ManageCarsForm=void 0;const r=n(645),o=n(629);n(199);const i=n(685),s=n(724),d=n(535),c=n(662),l=n(870),u=[],p=["Audi","Alfa Romeo","Alpina","Aston Martin","Axon","Ford","Ferrari","Fiat","GAZ","GMC","Honda","Hummer","Hyundai","Infiniti","Isuzu","JAC","Jaguar","Jeep","Kamaz","Lada","Lexus","Lotus","MAN","Maybach","MAZ","Mazda","McLaren","Nissan","Opel","Paccar","Pagani","Pontiac","Porsche","Renault","Ã… koda","Smart","Subaru","Suzuki","Tesla","Toyota","UAZ","Volvo","ZAZ","XPeng","TVR","Saab","RAM","Chevrolet","Mazzanti","Daewoo"],m=["Roadster","S","X","3","Y","Cybertruck","X5","X7","X3","X6","GT4","FXX","599 GTO","Enzo","458 Italia","250 GTO","Priora","4x4","Rio","Focus","Kalina","Vesta","Spark","Lacetti","Nexia","Matiz","Cobalt","Captiva","A7","A5","A3","A8","TT","Corolla","Camry","RAV4","Impreza","WRX","ES","LS","RX","GX","LX","GS","LC500","Gallardo","Aventador","911","Cayenne","FX37"];t.ManageCarsForm=()=>{const e=(0,r.BaseComponent)("div",["manage-car"]),t=(()=>{const e=(0,r.BaseComponent)("div",["manage-car__create","form-line"]),t=(0,r.BaseComponent)("input",["create__car-name"]);t.setAttribute("type","text"),t.value=i.stateCreateParameters.name;const n=(0,r.BaseComponent)("input",["create__car-color"]);n.setAttribute("type","color");const a=(0,o.Button)("Create",["create__car-submit","btn"]);return e.append(t),e.append(n),e.append(a),t.addEventListener("input",(e=>{const t=e.target;i.stateCreateParameters.name=t.value})),n.addEventListener("input",(e=>{const t=e.target;i.stateCreateParameters.color=t.value})),a.addEventListener("click",(()=>{i.stateCreateParameters.name&&(0,s.createCarAPI)(i.stateCreateParameters).then((()=>(0,s.getCars)(i.stateParameters.pageNumber))).then((()=>{t.value="",i.stateCreateParameters.name="",document.querySelector(".count-cars").innerHTML=String(i.stateParameters.totalNumberOfCars),(0,d.Garage)()}))})),e})(),n=(()=>{const e=(0,r.BaseComponent)("div",["manage-car__update","form-line"]),t=(0,r.BaseComponent)("input",["update__car-name"]);t.setAttribute("type","text"),i.stateUpdateParameters.name||t.setAttribute("disabled","true"),t.value=i.stateUpdateParameters.name;const n=(0,r.BaseComponent)("input",["update__car-color"]);n.setAttribute("type","color"),i.stateUpdateParameters.name||n.setAttribute("disabled","true"),n.value=i.stateUpdateParameters.color;const a=(0,o.Button)("Update",["update__car-submit","btn"]);return i.stateUpdateCar.name||a.setAttribute("disabled","true"),e.append(t),e.append(n),e.append(a),t.addEventListener("input",(e=>{const t=e.target;i.stateUpdateCar.name=t.value})),n.addEventListener("input",(e=>{const t=e.target;i.stateUpdateCar.color=t.value})),a.addEventListener("click",(()=>{i.stateUpdateCar.name&&(0,s.updateCarAPI)(i.stateUpdateCar).then((()=>{t.value="",t.setAttribute("disabled","true"),n.setAttribute("disabled","true"),a.setAttribute("disabled","true"),i.stateUpdateParameters.name="",i.stateUpdateParameters.color="#000000",document.querySelector(".count-cars").innerHTML=String(i.stateParameters.totalNumberOfCars),(0,d.Garage)()}))})),e})(),v=(()=>{const e=(0,r.BaseComponent)("div",["manage-cars__engine","form-line"]),t=(0,o.Button)("Race",["race-btn","btn"]),n=(0,o.Button)("Reset",["reset-btn","btn"]);n.setAttribute("disabled","true");const v=(0,o.Button)("Generate",["generate-btn","btn"]);return e.append(t),e.append(n),e.append(v),v.addEventListener("click",(()=>{const e=[];for(let t=0;t<100;t++)e[t]=(0,s.createCarAPI)((0,c.genereteRandomCar)(p,m));Promise.all(e).then((()=>{(0,d.Garage)()}))})),t.addEventListener("click",(()=>{t.setAttribute("disabled","true");const e=[];i.stateParameters.carlist.forEach(((t,n)=>{const r=new Promise((e=>{const r=document.querySelector(`#car-${t.id}`),o=document.querySelector(".car-with-road").clientWidth-2*r.getBoundingClientRect().x;(0,s.engineStartStop)(t.id,s.EngineStatus.start).then((i=>a(void 0,void 0,void 0,(function*(){let d;i.distance&&i.velocity&&(d=i.distance/i.velocity);const c=performance.now();requestAnimationFrame((function e(t){let a=(t-c)/d;a>1&&(a=1);const i=a;r.style.transform=`translateX(${i*o}px)`,a<1&&(u[n]=requestAnimationFrame(e))})),yield(0,s.switchDrive)(t.id,s.EngineStatus.drive).then((r=>a(void 0,void 0,void 0,(function*(){"stop"===r?cancelAnimationFrame(u[n]):e({id:t.id,wins:1,time:+(d/600).toFixed(2),name:t.name})})))).catch((e=>{console.log(e)}))}))))}));e.push(r)})),Promise.race(e).then((e=>a(void 0,void 0,void 0,(function*(){const t=yield(0,s.getWinner)(e.id);if(n.removeAttribute("disabled"),"error"==t)yield(0,s.createWinnerAPI)(e);else{const n=e.time<t.time?e.time:t.time;yield(0,s.updateWinnerAPI)(e.id,{wins:t.wins+1,time:n})}return e})))).then((e=>{var t;e.name&&(null===(t=document.querySelector(".cars-containeer"))||void 0===t||t.append((0,l.massageBox)(e.name,e.time)))}))})),n.addEventListener("click",(()=>{var e;n.setAttribute("disabled","true"),t.removeAttribute("disabled"),u.forEach((e=>cancelAnimationFrame(e))),document.querySelectorAll(".car-image").forEach((e=>{e.style.transform="translateX(0px)"})),null===(e=document.querySelector(".massage-box"))||void 0===e||e.remove()})),e})();return e.append(t),e.append(n),e.append(v),e}},870:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.massageBox=void 0;const a=n(645);n(810),t.massageBox=(e,t)=>{const n=(0,a.BaseComponent)("div",["massage-box"]);return n.textContent=`${e} went first (${t})`,n}},159:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{d(a.next(e))}catch(e){o(e)}}function s(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.winnersTable=void 0;const r=n(645),o=n(724),i=n(654),s=n(914),d=n(629),c=n(685);t.winnersTable=()=>a(void 0,void 0,void 0,(function*(){const e=(0,r.BaseComponent)("div",["winners-table"]),t=(()=>{const e=(0,r.BaseComponent)("div",["table-header"]);e.innerHTML="<div>Number</div>\n  <div>Car</div>\n  <div>Name</div>";const t=(0,r.BaseComponent)("div",["wins-sort"]),n=(0,r.BaseComponent)("div",["time-sort"]);return t.innerHTML="Wins",n.innerHTML="Best time(seconds)",e.append(t),e.append(n),t.addEventListener("click",(()=>a(void 0,void 0,void 0,(function*(){let e=c.stateParameters.sortOrder;e=e&&e===s.SortOrder.ASC?s.SortOrder.DESC:s.SortOrder.ASC,c.stateParameters.sortBy=s.SortBy.wins,c.stateParameters.sortOrder=e,yield(0,i.Winners)()})))),n.addEventListener("click",(()=>a(void 0,void 0,void 0,(function*(){c.stateParameters.sortBy=s.SortBy.time;let e=c.stateParameters.sortOrder;e=e&&e===s.SortOrder.ASC?s.SortOrder.DESC:s.SortOrder.ASC,c.stateParameters.sortOrder=e,yield(0,i.Winners)()})))),e})();e.append(t);const n=(0,r.BaseComponent)("ul",["winners-list"]);var l;return e.append(n),yield(l=n,a(void 0,void 0,void 0,(function*(){const e=yield(0,o.getWinners)(c.stateParameters.winnersPageNumber,10,c.stateParameters.sortBy,c.stateParameters.sortOrder),t=[];e.forEach((e=>{t.push((0,o.getCar)(e.id))})),t.length&&Promise.all(t).then((t=>{document.querySelector(".winners-amount").innerHTML=String(c.stateParameters.winnersNumber),document.querySelector(".winners-page").innerHTML=String(c.stateParameters.winnersPageNumber),e.forEach(((e,n)=>{const a=(0,r.BaseComponent)("li",["winners-item"]);a.innerHTML=`\n      <span>${n+1}</span>\n      <span>${(0,d.generateCarImage)(t[n].color)}</span>\n      <span>${t[n].name}</span>\n      <span>${e.wins}</span>\n      <span>${e.time}</span>\n      `,l.append(a)}))}))}))),e}))},662:(e,t)=>{function n(e,t){const n=e+Math.random()*(t-e+1);return Math.round(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.genereteRandomCar=void 0,t.genereteRandomCar=function(e,t){return{name:`${e[n(0,e.length-1)]} ${t[n(0,t.length-1)]}`,color:`rgb(${n(0,255)}, ${n(0,255)}, ${n(0,255)})`}}},566:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.enableRouteChange=void 0;const a=n(535),r=n(654),o=n(645),i=n(736),s=n(615),d=n(648),c=document.createElement("div");document.body.append(c);const l=e=>{if(c.innerHTML="","garage"==e){const e=(0,o.BaseComponent)("section",["manage-car__section"]);e.append((0,i.ManageCarsForm)());const t=(0,o.BaseComponent)("section",["garagesection"]);c.append(e),c.append(t),(0,a.Garage)(),c.append((0,s.Pagination)())}else if("winners"==e){const e=(0,o.BaseComponent)("section",["winners__section"]);c.append(e),(0,r.Winners)(),c.append((0,d.PaginationWinners)())}};t.enableRouteChange=()=>{window.location.hash.slice(1)?l(window.location.hash.slice(1)):l("garage"),window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);l(e)}))}},535:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Garage=void 0;const a=n(645),r=n(376),o=n(685);n(303),t.Garage=()=>{const e=(0,a.BaseComponent)("section",["cars__section"]),t=(0,a.BaseComponent)("h1",["garage-title"]),n=(0,a.BaseComponent)("h2",["garage-title"]);e.append(t),e.append(n),(0,r.generateCars)().then((a=>{e.append(a),t.innerHTML=`<h5>Garage (<span class = "count-cars">${o.stateParameters.totalNumberOfCars}</span>)<h5>`,n.innerHTML=`<h6>Page #<span class = "count-cars">${o.stateParameters.pageNumber}</span><h6>`}));const i=document.querySelector(".garagesection");return i.innerHTML="",i.append(e),i}},615:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;const a=n(685),r=n(645),o=n(629),i=n(535);t.Pagination=()=>{const e=(0,o.Button)("PREV",["prev-btn","btn"]),t=(0,o.Button)("NEXT",["next-btn","btn"]),n=(0,r.BaseComponent)("div",["pagination"]);return n.append(e),n.append(t),e.addEventListener("click",(()=>{a.stateParameters.pageNumber-=1,(0,i.Garage)()})),t.addEventListener("click",(()=>{a.stateParameters.pageNumber+=1,(0,i.Garage)()})),n}},648:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PaginationWinners=void 0;const a=n(685),r=n(645),o=n(629),i=n(654);t.PaginationWinners=()=>{const e=(0,o.Button)("PREV",["prev-btn","btn"]),t=(0,o.Button)("NEXT",["next-btn","btn"]),n=(0,r.BaseComponent)("div",["pagination"]);return n.append(e),n.append(t),e.addEventListener("click",(()=>{a.stateParameters.winnersPageNumber-=1,(0,i.Winners)()})),t.addEventListener("click",(()=>{a.stateParameters.winnersPageNumber+=1,(0,i.Winners)()})),n}},654:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{d(a.next(e))}catch(e){o(e)}}function s(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Winners=void 0;const r=n(645),o=n(685),i=n(159);n(35),t.Winners=()=>a(void 0,void 0,void 0,(function*(){var e,t,n,a,s;const d=document.createDocumentFragment(),c=(0,r.BaseComponent)("h1",["winners-title"]),l=(0,r.BaseComponent)("h2",["winners-title"]);c.innerHTML=`Winners(<span class = "winners-amount">${o.stateParameters.winnersNumber}</span>)`,l.innerHTML=`Page #<span class = "winners-page">${o.stateParameters.winnersPageNumber}</span>`,d.append(c),d.append(l);const u=yield(0,i.winnersTable)();return d.append(u),document.querySelector(".winners__section").innerHTML="",null===(e=document.querySelector(".winners__section"))||void 0===e||e.append(d),1==o.stateParameters.winnersPageNumber?null===(t=document.querySelector(".prev-btn"))||void 0===t||t.setAttribute("disabled","true"):null===(n=document.querySelector(".prev-btn"))||void 0===n||n.removeAttribute("disabled"),o.stateParameters.winnersPageNumber==o.stateParameters.winnersTotalPages?null===(a=document.querySelector(".next-btn"))||void 0===a||a.setAttribute("disabled","true"):null===(s=document.querySelector(".next-btn"))||void 0===s||s.removeAttribute("disabled"),d}))}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(566),t=n(977);document.body.prepend((0,t.renderHeader)()),(0,e.enableRouteChange)()})()})();